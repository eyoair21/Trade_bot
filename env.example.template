# TraderBot Environment Configuration Template
# 
# INSTRUCTIONS:
# 1. Copy this file to .env.example (or create .env.example manually)
# 2. Users should copy .env.example to .env and customize
# 3. DO NOT commit .env to version control
#
# This file documents all configurable environment variables.
# See traderbot/config.py for implementation details.

# ============================================================================
# Data Configuration
# ============================================================================

# Base directory for data files
DATA_DIR=./data

# Directory for OHLCV parquet files
OHLCV_DIR=./data/ohlcv

# ============================================================================
# Logging Configuration
# ============================================================================

# Log level: DEBUG, INFO, WARNING, ERROR
LOG_LEVEL=INFO

# Log format: json, text
LOG_FORMAT=json

# ============================================================================
# Backtesting Configuration
# ============================================================================

# Initial capital for backtests (default: $100,000)
DEFAULT_INITIAL_CAPITAL=100000.0

# Commission in basis points (default: 10 bps = 0.1%)
DEFAULT_COMMISSION_BPS=10.0

# Slippage in basis points (default: 5 bps = 0.05%)
DEFAULT_SLIPPAGE_BPS=5.0

# ============================================================================
# Risk Management Configuration
# ============================================================================

# Maximum position size as percentage of NAV (default: 10%)
MAX_POSITION_PCT=0.10

# Maximum gross exposure as fraction of NAV (default: 1.0 = 100%)
MAX_GROSS_EXPOSURE=1.0

# Daily loss limit as percentage of NAV (default: 2%)
DAILY_LOSS_LIMIT_PCT=0.02

# Maximum drawdown from peak as percentage (default: 15%)
MAX_DRAWDOWN_PCT=0.15

# ============================================================================
# Strategy Configuration
# ============================================================================

# EMA fast period (default: 12)
EMA_FAST_PERIOD=12

# EMA slow period (default: 26)
EMA_SLOW_PERIOD=26

# RSI period (default: 14)
RSI_PERIOD=14

# RSI oversold threshold (default: 30)
RSI_OVERSOLD=30

# RSI overbought threshold (default: 70)
RSI_OVERBOUGHT=70

# ATR period (default: 14)
ATR_PERIOD=14

# ATR stop multiplier (default: 2.0)
ATR_STOP_MULTIPLIER=2.0

# ============================================================================
# Model Configuration (PatchTST)
# ============================================================================

# Model lookback period (default: 32)
MODEL_LOOKBACK=32

# Model features (comma-separated)
MODEL_FEATURES=close_ret_1,rsi_14,atr_14,vwap_gap,dvol_5,regime_vix

# Path to saved TorchScript model
MODEL_PATH=./models/patchtst.ts

# Patch size for PatchTST (default: 8)
MODEL_PATCH_SIZE=8

# Stride for PatchTST (default: 4)
MODEL_STRIDE=4

# Model dimension (default: 64)
MODEL_D_MODEL=64

# Number of attention heads (default: 4)
MODEL_N_HEADS=4

# Number of transformer layers (default: 2)
MODEL_N_LAYERS=2

# Feed-forward dimension (default: 128)
MODEL_D_FF=128

# Dropout rate (default: 0.1)
MODEL_DROPOUT=0.1

# ============================================================================
# Universe Configuration
# ============================================================================

# Maximum number of symbols in dynamic universe (default: 30)
UNIVERSE_MAX_SYMBOLS=30

# Minimum dollar volume for universe selection (default: $20M)
UNIVERSE_MIN_DOLLAR_VOLUME=20000000

# Minimum volatility for universe selection (default: 15% annualized)
UNIVERSE_MIN_VOLATILITY=0.15

# Lookback days for universe selection (default: 20)
UNIVERSE_LOOKBACK_DAYS=20

# ============================================================================
# Execution Configuration
# ============================================================================

# Execution slippage in basis points (default: 2 bps)
EXECUTION_SLIPPAGE_BPS=2.0

# Per-share execution fee (default: $0.0005)
EXECUTION_FEE_PER_SHARE=0.0005

# ============================================================================
# Position Sizing Configuration
# ============================================================================

# Position sizing method: fixed, vol, kelly
SIZING_SIZER=fixed

# Fixed fraction for position sizing (default: 0.1 = 10%)
SIZING_FIXED_FRAC=0.1

# Volatility target for position sizing (default: 0.20 = 20%)
SIZING_VOL_TARGET=0.20

# Kelly cap for position sizing (default: 0.25 = 25%)
SIZING_KELLY_CAP=0.25

# ============================================================================
# Calibration Configuration
# ============================================================================

# Probability threshold for trading decisions (default: 0.5)
CALIBRATION_PROBA_THRESHOLD=0.5

# Optimize threshold per split (default: false)
CALIBRATION_OPT_THRESHOLD=false

# Number of bins for calibration (default: 10)
CALIBRATION_N_BINS=10

# ============================================================================
# General Configuration
# ============================================================================

# Random seed for reproducibility (default: 42)
RANDOM_SEED=42

# Directory for run artifacts (default: ./runs)
RUNS_DIR=./runs

# ============================================================================
# Safety Configuration (Future)
# ============================================================================

# Dry-run mode (paper trading only, default: true)
# DRY_RUN=true

# Kill-switch file path (future feature)
# KILL_SWITCH_PATH=./.kill_switch

